DATA SEGMENT
A EQU 0640H 
B EQU 0642H
CONTROL EQU 0646H
MODE_CONTROL_WORD EQU 090H
DATA ENDS

STACK SEGMENT 
STACK ENDS

CODE SEGMENT
ASSUME CS:CODE,SS:STACK
START:
MOV AL,MODE_CONTROL_WORD 
MOV DX,CONTROL 
OUT DX,AL 
AA1:
MOV DX,A
IN AL,DX 

AND AL,0FFH
CMP AL,0FFH
JE EXIT


CALL DELAY
MOV DX,B
OUT DX,AL
JMP AA1 

DELAY:
PUSH CX
MOV CX,00F0H
AA2:
LOOP AA2
POP CX
RET      

EXIT:
MOV AH,4CH
INT 21H
